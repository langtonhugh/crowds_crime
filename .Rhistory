safe_df <- read_csv("data/cali_nhood_safegraph.csv")
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") %>%
mutate(hour_num = gsub(x = hour_stops_clean_df$hour, pattern = "h", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") #%>%
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour, .drop = F) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
options(scipen = 9999999)
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count))
ggplot(data = test) +
geom_line(mapping = aes(x = hour_num, y = sum_foot, group = 1)) +
theme(axis.text.x = element_blank())
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
theme(axis.text.x = element_blank())
options(scipen = 9999999)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
theme(axis.text.x = element_blank(),
axis.ticks.x = element_blank())
View(test)
44/24
24+14
24+18
720/30
library(readr)
setwd("C:/Users/langt/Documents/GitHub/crowds_hackathon/data")
df1 <- read_csv("cali_nhood_safegraph.csv")
df2 <- read_csv("la_cb.csv")
View(df1)
df3 <- read_csv("la_crime_june.csv")
View(df2)
df4 <- read_csv("retrosheet_gl_2018.csv")
View(df4)
library(dplyr)
library(readr)
library(janitor)
# Major League Baseball team data obtained from https://www.retrosheet.org/gamelogs/index.html.
gl_2018_df <- read_csv("data/GL2018.txt", col_names = F)
gl_2018_df <- read_csv("C:/Users/langt/Documents/GitHub/crowds_crime/datadata/GL2018.txt", col_names = F)
gl_2018_df <- read_csv("C:/Users/langt/Documents/GitHub/crowds_crime/data/GL2018.txt", col_names = F)
View(gl_2018_df)
View(df3)
View(df4)
df5 <- read_csv("stadium_coords.csv")
View(df5)
df6 <- read_csv("us_crime_2018.csv")
View(df6)
