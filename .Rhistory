select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("t", 1:720))
View(test)
test_long <- test %>%
mutate(t1   = gsub(x = test$t1, pattern = "\\[", replacement = ""),
t720 = gsub(x = test$t720, pattern = "\\]", replacement = ""))
View(test_long)
View(test_long)
test_clean <- test %>%
mutate(t1   = gsub(x = test$t1, pattern = "\\[", replacement = ""),
t720 = gsub(x = test$t720, pattern = "\\]", replacement = ""))
test_long_clean <- test_clean %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(test_long_clean)
test <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("t", 1:720))
test_clean <- test %>%
mutate(d1   = gsub(x = test$t1, pattern = "\\[", replacement = ""),
d720 = gsub(x = test$t720, pattern = "\\]", replacement = ""))
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("t", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(d1   = gsub(x = test$t1, pattern = "\\[", replacement = ""),
d720 = gsub(x = test$t720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("t", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(d1   = gsub(x = hour_stops_df$t1, pattern = "\\[", replacement = ""),
d720 = gsub(x = hour_stops_df$t720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_df)
View(hour_stops_clean_long_df)
safe_df <- read_csv("data/cali_nhood_safegraph.csv")
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("t", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(d1   = gsub(x = hour_stops_df$t1, pattern = "\\[", replacement = ""),
d720 = gsub(x = hour_stops_df$t720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
View(hour_stops_clean_df)
hour_stops_clean_df <- hour_stops_df %>%
mutate(d1   = gsub(x = hour_stops_df$d1, pattern = "\\[", replacement = ""),
d720 = gsub(x = hour_stops_df$d720, pattern = "\\]", replacement = ""))
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("d", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(d1   = gsub(x = hour_stops_df$d1, pattern = "\\[", replacement = ""),
d720 = gsub(x = hour_stops_df$d720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:719))
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:721))
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
group_by(area) %>%
mutate(count = sequence(n()))
View(test)
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
test <- hour_stops_clean_long_df %>%
group_by(area) %>%
mutate(new = sequence(n()))
View(test)
test <- hour_stops_clean_long_df %>%
group_by(area) %>%
mutate(new = 1:24)
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
group_by(area, hour) %>%
summarise(mean_foot = mean(count))
test <- hour_stops_clean_long_df %>%
group_by(hour) %>%
summarise(mean_foot = sum(count))
names(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
group_by(hour) %>%
summarise(sum_foot = sum(count))
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count))
View(test)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot))
library(ggplot2)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot))
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
filter(hour != "h19")
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
filter(hour != "h17")
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
mutate(hour_num = gsub(hour_stops_clean_long_df$hour), pattern = "h", replacement = ""))
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
mutate(hour_num = gsub(hour_stops_clean_long_df$hour), pattern = "h", replacement = "")
test <- hour_stops_clean_long_df %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
mutate(hour_num = gsub(hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
gsub(hour_stops_clean_long_df$hour, pattern = "h", replacement = "")
View(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
View(test)
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup()
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup()
View(test)
ggplot(data = test) +
geom_line(mapping = aes(x = hour_num, y = sum_foot, group = 1))
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup() %>%
filter(hour != "h114")
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
View(hour_stops_clean_long_df)
View(hour_stops_clean_long_df)
View(hour_stops_clean_long_df)
test_id <- hour_stops_clean_long_df %>%
group_indices(area, hour)
?group_indices
options(scipen = 9999999)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour) %>%
summarise(sum_foot = sum(count)) %>%
ungroup()
options(scipen = 9999999)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
View(test)
test2 <- test %>%
filter(sum_foot < 600000)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
test2 <- test %>%
filter(sum_foot < 600000 | sum_foot == 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
test2 <- test %>%
filter(sum_foot < 600000 & sum_foot == 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
test2 <- test %>%
filter(sum_foot < 600000 | sum_foot == 0)
test2 <- test %>%
filter(sum_foot < 600000 | sum_foot == 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
View(test2)
test2 <- test %>%
filter(sum_foot < 600000 | sum_foot != 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
test2 <- test %>%
filter(sum_foot < 600000 & sum_foot != 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
ylim(0, 500000)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
scale_y_log10()
test2 <- test %>%
mutate(sum_foot2 = ifelse(test$sum_foot > 600000, true = mean(test$sum_foot),
false = test$sum_foot))
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, true = mean(test$sum_foot),
false = test$sum_foot))
mean(test$sum_foot)
median(test$sum_foot)
ifelse(test = test$sum_foot > 600000, true = median(test$sum_foot),
false = test$sum_foot)
test2 <- test %>%
mutate(sum_foot2 = if_else(test = test$sum_foot > 600000, true = median(test$sum_foot),
false = test$sum_foot))
test2 <- test %>%
mutate(sum_foot_m = if_else(test = test$sum_foot > 600000, true = median(test$sum_foot),
false = test$sum_foot))
if_else(test = test$sum_foot > 600000, true = median(test$sum_foot),
false = test$sum_foot)
ifelse(test = test$sum_foot > 600000, true = median(test$sum_foot),
false = test$sum_foot)
?ifelse
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot))
View(test2)
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1)) +
theme(el)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1)) +
theme(el)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot),
sum_foot2 = ifelse(test = test$sum_foot == 0, yes = min(test$sum_foot),
no = test$sum_foot))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
min(test$sum_foot)
sort(test$sum_foot,partial=n-1)[n-1]#
sort(test$sum_foot,partial=n-1)[n-1]
sort(test$sum_foot)[-2]
sort(test$sum_foot)[2]
sort(test$sum_foot)[9]
sort(test$sum_foot,partial=length(test$sum_foot-1)[n-1]
sort(test$sum_foot,partial=length(test$sum_foot-1))[n-1]
sort(test$sum_foot, TRUE)[n]
sort(test$sum_foot, TRUE)[1]
sort(test$sum_foot, TRUE)[-1]
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
test2 <- test %>%
filter(sum_foot < 600000 & sum_foot != 0)
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot))
test2 <- test %>%
mutate(sum_foot2 = ifelse(test = test$sum_foot > 600000, yes = median(test$sum_foot),
no = test$sum_foot))
ggplot(data = test2) +
geom_line(mapping = aes(x = hour, y = sum_foot2, group = 1))
View(test)
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour_num, area) %>%
summarise(sum_foot = sum(count))
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour_num) %>%
summarise(sum_foot = sum(count))
View(test2)
options(scipen = 9999999)
ggplot(data = test) +
geom_line(mapping = aes(x = hour, y = sum_foot, group = 1))
ggplot(data = test) +
geom_line(mapping = aes(x = hour_num, y = sum_foot, group = 1))
View(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
View(test)
test <- hour_stops_clean_long_df %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = "")) %>%
mutate(count = as.numeric(count)) %>%
group_by(hour_num, .drop = F) %>%
summarise(sum_foot = sum(count))
View(test)
ggplot(data = test) +
geom_line(mapping = aes(x = hour_num, y = sum_foot, group = 1))
library(readr)
library(dplyr)
library(tidyr)
library(ggplot2)
safe_df <- read_csv("data/neighborhood_patterns_june_2020.gz")
cali_df <- safe_df %>%
filter(region == "CA")
write_csv(x = cali_df, path = "data/cali_nhood_safegraph.csv")
safe_df <- read_csv("data/cali_nhood_safegraph.csv")
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
safe_df <- read_csv("data/cali_nhood_safegraph.csv")
hour_stops_df <- safe_df %>%
select(area, stops_by_each_hour) %>%
separate(col = stops_by_each_hour, sep = ",", into = paste0("h", 1:720))
hour_stops_clean_df <- hour_stops_df %>%
mutate(h1   = gsub(x = hour_stops_df$h1, pattern = "\\[", replacement = ""),
h720 = gsub(x = hour_stops_df$h720, pattern = "\\]", replacement = ""))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count")
View(hour_stops_clean_long_df)
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
View(hour_stops_clean_long_df)
library(lubridate)
?h
test <- hour_stops_clean_long_df %>%
mutate(hour_lub = hm(hour_num))
View(test)
720*24
data_new_2 <- hour_stops_clean_long_df %>% slice(rep(1:n(), each = 3))
rm(data_new_2)
days_vec <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
test <- hour_stops_clean_long_df %>%
mutate(days_week = days_vec)
rep(days_vec)
rep(days_vec, 2)
test <- hour_stops_clean_long_df %>%
mutate(days_week = rep(days_vec, nrow(hour_stops_clean_long_df)))
nrow(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
mutate(days_week = rep(days_vec, nrow(hour_stops_clean_long_df)/7))
View(test)
View(test)
sum(is.na(test$days_week))
test <- hour_stops_clean_long_df %>%
mutate(days_week = rep(days_vec, nrow(hour_stops_clean_long_df)/7),
hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
test <- hour_stops_clean_long_df %>%
mutate(days_week = rep(days_vec, nrow(hour_stops_clean_long_df)/24),
hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
?rep
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24),
days_n = rep(1:30))
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
View(test)
rm(test)
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(safe_df)
View(test)
rm(test)
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
rm(test)
hour_stops_clean_long_df <- hour_stops_clean_df %>%
pivot_longer(cols = -area, names_to = "hour", values_to = "count") %>%
mutate(hour_num = gsub(x = hour_stops_clean_long_df$hour, pattern = "h", replacement = ""))
days_vec <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday")
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
temp <- df[rep(seq_len(nrow(test)), each=24,]
temp <- test[rep(seq_len(nrow(test)), each=24,]
temp <- test %>% slice(rep(1:24, each = 2))
View(temp)
temp <- test %>% slice(rep(1:24, each = 24))
View(temp)
temp <- test %>% slice(rep(1:24, each = 24))
View(temp)
temp <- test %>% slice(rep(1:24, each = 2))
temp <- test %>% slice(rep(1:24, each = 24))
View(temp)
temp <- test %>% slice(rep(1:24, each = 1:24))
temp <- test %>% slice(rep(24, each = 24))
View(temp)
temp <- test %>% slice(rep(1:24, each = 24))
View(test)
View(test)
days_vec <- character(1:24)
days_vec <- as.character(1:24)
days_vec
View(test)
nrow(hour_stops_clean_long_df)/30
temp <- test %>%
mutate(test_col = rep(days_vec), nrow(hour_stops_clean_long_df)/30)
temp <- test %>%
mutate(test_col = rep(days_vec), nrow(hour_stops_clean_long_df)/30))
temp <- test %>%
mutate(test_col = rep(days_vec, nrow(hour_stops_clean_long_df)/30))
rep(days_vec, nrow(hour_stops_clean_long_df)/30)
temp <- test %>%
mutate(test_col = rep(days_vec, nrow(hour_stops_clean_long_df)/30))
nrow(hour_stops_clean_long_df)/30)
nrow(hour_stops_clean_long_df)
nrow(hour_stops_clean_long_df)/30
temp2 <- rep(days_vec, nrow(hour_stops_clean_long_df)/30)
mutate(test_col = rep(days_vec, nrow(hour_stops_clean_long_df))
rep(days_vec, nrow(hour_stops_clean_long_df)
temp <- test %>%
mutate(test_col = rep(days_vec, nrow(hour_stops_clean_long_df)))
days_vec
View(hour_stops_clean_long_df)
test <- hour_stops_clean_long_df %>%
mutate(hour_24 = rep(1:24, nrow(hour_stops_clean_long_df)/24))
View(test)
View(test)
temp_list <- group_split(test, area)
View(temp_list[[1]])
example <- temp_list[[1]]
days_char <- as.character(1:30)
days_char
temp <- example %>%
mutate(demo = rep(days_char, 24))
View(temp)
temp <- example %>%
slice(rep(days_char, each = 24))
temp <- example %>%
slice(rep(1, each = 24))
View(temp)
View(example)
